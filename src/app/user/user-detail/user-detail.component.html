<div *ngIf="user; else loading" class="user-details">

  <h3>{{ user.email }}</h3>

  <div *ngIf="user.healthHistory; else no_health_history">
    <p>Name: {{user.healthHistory.name}}</p>
    <p>Age: {{user.healthHistory.age}}</p>

  </div>

  <div style="display: block;">
    <canvas baseChart
      [datasets]="barChartData"
      [labels]="barChartLabels"
      [options]="barChartOptions"
      [plugins]="barChartPlugins"
      [legend]="barChartLegend"
      [chartType]="barChartType">
    </canvas>
  </div>

  <div *ngIf="user.nutritionImmune; else no_nutrition_immune"></div>

  <ng-template #no_health_history>
    <mat-card>
      <h3>This user has no Health History Data</h3>
    </mat-card>
  </ng-template>

  <ng-template #no_nutrition_immune>
    <mat-card>
      <h3>This user has no Nutrition & Immune Data</h3>
    </mat-card>
  </ng-template>

</div>

<ng-template #loading>
  <mat-spinner></mat-spinner>
</ng-template>

